<div dir="rtl">

## مستندات فنی پروژه نقاشی  
این پروژه یک برنامه وب ساده برای نقاشی با استفاده از اَشکال هندسی است که با فریم‌ورک React پیاده‌سازی شده است. هدف اصلی آن، ایجاد یک بوم نقاشی تعاملی با قابلیت ذخیره و بازیابی کارهاست.

## نحوه کارکرد برنامه
برنامه از چهار بخش اصلی تشکیل شده است:

بخش Header (سربرگ): در بالای صفحه قرار دارد و شامل موارد زیر است:

+ عنوان نقاشی: یک فیلد متنی که به کاربر اجازه می‌دهد نام نقاشی خود را تغییر دهد.

+ دکمه Import: با کلیک بر روی این دکمه، کاربر می‌تواند یک فایل با فرمت JSON را که حاوی اطلاعات یک نقاشی ذخیره‌شده است، بارگذاری کند و آن را روی بوم نمایش دهد.

+ دکمه Export: با کلیک بر روی این دکمه، وضعیت فعلی نقاشی (شامل عنوان و تمام اَشکال روی بوم) به صورت یک فایل JSON دانلود می‌شود.

بخش Sidebar (نوار ابزار): در سمت چپ برنامه قرار دارد و ابزارهای نقاشی را نمایش می‌دهد.

انتخاب ابزار: کاربر با کلیک بر روی یکی از اَشکال (مربع، دایره، مثلث)، آن را برای کشیدن انتخاب می‌کند. شکل انتخاب‌شده با یک حاشیه آبی مشخص می‌شود.

کشیدن و رها کردن (Drag and Drop): به عنوان یک ویژگی امتیازی، کاربر می‌تواند ابزار مورد نظر را از نوار ابزار بر روی بوم بکشد و رها کند تا یک شکل جدید در آن نقطه ایجاد شود.

بخش Canvas (بوم نقاشی): فضای اصلی برنامه که در آن اَشکال ترسیم می‌شوند.

افزودن شکل: با انتخاب یک ابزار از Sidebar، کاربر می‌تواند با یک کلیک در هر جای بوم، یک شکل جدید در آن نقطه اضافه کند. شکل جدید به گونه‌ای قرار می‌گیرد که مرکز آن در محل کلیک موس باشد.

حذف شکل: با دابل کلیک (double-click) بر روی هر شکل، آن شکل از روی بوم حذف می‌شود. این قابلیت حتی برای اَشکالی که روی هم قرار گرفته‌اند نیز به درستی کار می‌کند.

بخش Footer (پاورقی): در پایین صفحه، تعداد هر یک از اَشکال موجود بر روی بوم را به صورت زنده نمایش می‌دهد.

## پیاده‌سازی فنی
این پروژه با استفاده از React و ابزار ساخت Vite توسعه داده شده است.

ساختار کامپوننت‌ها (Components):

کامپوننت App.jsx: کامپوننت اصلی که تمام وضعیت (state) برنامه را مدیریت می‌کند. این وضعیت‌ها شامل لیست اَشکال (shapes)، عنوان نقاشی (paintingTitle) و ابزار انتخاب‌شده فعلی (selectedShape) است. این کامپوننت، وضعیت‌ها و توابع مربوطه را به عنوان props به کامپوننت‌های فرزند ارسال می‌کند.

کامپوننت Header.jsx: مسئول نمایش و مدیریت ورودی عنوان و منطق دکمه‌های Import/Export.

کامپوننت Sidebar.jsx: ابزارها را نمایش می‌دهد، شکل انتخاب‌شده را به کامپوننت App اطلاع می‌دهد و رویداد onDragStart را برای قابلیت Drag and Drop مدیریت می‌کند.

کامپوننت Canvas.jsx: مسئول رندر کردن تمام اَشکال روی بوم است. این کامپوننت شکل مثلث را با استفاده از SVG (برای دقت بیشتر در رویدادهای کلیک) و سایر اَشکال را با div رندر می‌کند. همچنین رویدادهای onClick، onDrop و onDragOver را برای افزودن اَشکال و رویداد onDoubleClick را برای حذف آن‌ها مدیریت می‌کند.

کامپوننت Footer.jsx: لیست اَشکال را به عنوان prop دریافت کرده و تعداد هر نوع را محاسبه و نمایش می‌دهد.

مدیریت رویداد کلیک (Click Event Handling):
برای تفکیک بین single-click (جهت افزودن شکل) و double-click (جهت حذف)، از یک setTimeout با تأخیر 200ms استفاده شده است. اگر در این بازه زمانی کلیک دومی رخ دهد (یعنی یک double-click)، تایمر پاک شده و عمل افزودن شکل لغو می‌شود.

## ساختار فایل JSON
برای ذخیره و بازیابی نقاشی‌ها، از یک ساختار JSON ساده استفاده می‌شود. هر فایل JSON خروجی گرفته‌شده، شامل دو کلید اصلی است:

کلید title: یک رشته (string) که عنوان نقاشی را در خود ذخیره می‌کند.

کلید shapes: یک آرایه (array) از آبجکت‌ها که هر آبجکت، یک شکل روی بوم را توصیف می‌کند.

هر آبجکت شکل در آرایه shapes شامل مشخصات زیر است:

مشخصه id: یک شناسه منحصربه‌فرد (number) که بر اساس زمان (timestamp) ایجاد می‌شود.

مشخصه type: نوع شکل به صورت رشته (string)، مانند "square", "circle", or "triangle".

مشخصه x: موقعیت افقی (محور X) گوشه بالا-چپ شکل.

مشخصه y: موقعیت عمودی (محور Y) گوشه بالا-چپ شکل.

نمونه فایل JSON:

{
&nbsp;&nbsp;&nbsp;"title": "My First Painting",  
&nbsp;&nbsp;&nbsp;"shapes": [  
&nbsp;&nbsp;&nbsp;{  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id": 1721995200100,  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type": "circle",  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"x": 250,  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"y": 180  
&nbsp;&nbsp;&nbsp;},  
&nbsp;&nbsp;&nbsp;{  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id": 1721995205345,  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type": "triangle",  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"x": 400,  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"y": 300  
&nbsp;&nbsp;&nbsp;},  
&nbsp;&nbsp;&nbsp;{  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"id": 1721995210987,  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"type": "square",  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"x": 100,  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"y": 80  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}  
&nbsp;&nbsp;&nbsp;]  
}  

## نحوه اجرای پروژه

npm install  
npm run dev

</div>

## استفاده از هوش مصنوعی

در این تمرین برای بخش هایی از کد، بخصوص بخش css و رفع تعدادی از باگ ها، از هوش مصنوعی gemini استفاده شد. همچنین این فایل نیز با کمک هوش مصنوعی نوشته شده است.  
بخش css و طراحی که با استفاده از هوش مصنوعی بسیار راحت شد و تغییرات دلخواهی در ظاهر به این وسیله انجام شد. در مورد باگ مربوط به مثلث نیز ایده مناسبی داد که باعث سختی بیشتر ولی عملکرد بهتر شد.